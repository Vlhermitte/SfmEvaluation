\chapter{Experiments}\label{chap:experiments}

TODO : 
Explain the experiments setup i.e language, libraries, which datasets used for which metrics. 

Explain stuff like if there is a unregistered camera, how to handle it e.g. we apply a high penalty in the camera pose error

AceZero provide a confidence score for each camera pose, if it is bellow 1000, we consider the camera as unreliable.
Unreliable camera poses can have a big effect on nerf for novel view synthesis.
ACEZERO seems to perform well when the trajectory is a turns around a subject such as MipNeRF360.
ACEZERO time complexity depends on the number of images and the spatial distribution of cameras. Worst case is $O(n^2)$ where n is the number of images. best case is $\Omega(n)$ when the cameras are well distributed in space.

FlowMap does not scale very well with the number of images. The video memory usage increases linearly with the number of images.
FlowMap also assume to run on video sequences with small jumps between frames because it needs to compute optical flow.
Indeed, the current implementation of FlowMap uses full batch processing. A possible improvement would be using mini-batches to help reduce the memory usage.
Impossible to run LaMAR dataset on FlowMap as each sessions is a few hundreds of images.
FlowMap paper used a 40GB GPU to run their experiments. We run MIPNerf360 on a 32GB GPU. Thus, we run at images2 an $+experiment=low_memory$ to reduce the memory usage. Note that this can lower the results.


Unfortunately, reducing image size for vggsfm doesn't appear to have a real impact on the memory usage. Scene Bonsai and room trigger a Out Of Memory error


Also, explain the results of the experiments.

\section{Experimental Setup}\label{sec:experimental-setup}
TODO

\section{Experimental Results}\label{sec:experimental-results}
TODO

\newpage
\subsection{NeRF Evaluation Results}\label{sec:nerf-evaluation-results}

The results have been generated by the Nerfstudio framework. 
The trainning has been done over 30 000 iterations with images max dimensions of 1600 pixels (thos are nerfstudio default values).

\subsubsection{ETH3D}\label{sec:nerf-evaluation-results-eth3d}
Novel view synthesis results on ETH3D

\input{tables/nerf_results_ETH3D.tex}

\begin{figure}
    \begin{minipage}[h]{0.23\textwidth}
        \centering
        \textbf{Ground Truth}
        \includegraphics[width=\textwidth]{figures/nerf/relief.JPG}
    \end{minipage}
    \hspace{0.001\textwidth}
    \begin{minipage}[h]{0.23\textwidth}
        \centering
        \textbf{VGGSfm}
        \includegraphics[width=\textwidth]{figures/nerf/relief_vggsfm.png}
    \end{minipage}
    \hspace{0.001\textwidth}
    \begin{minipage}[h]{0.23\textwidth}
        \centering
        \textbf{GLOMAP}
        \includegraphics[width=\textwidth]{figures/nerf/relief_glomap.png}
    \end{minipage}
    \hspace{0.001\textwidth}
    \begin{minipage}[h]{0.23\textwidth}
        \centering
        \textbf{FlowMap}
        \includegraphics[width=\textwidth]{figures/nerf/relief_flowmap.png}
    \end{minipage}
    \caption{Qualitative comparison of novel view synthesis on the Relief scene from ETH3D dataset.}
\end{figure}

Since each ETH3D scenes have a relatively small number of images, Nerfstudio evaluate the Novel view quality on a very small subset of images.
This means that the results might acctually not be representative of the overall quality of the scene.

\subsubsection{MIPNeRF360}\label{sec:nerf-evaluation-results-mipnerf360}
Novel view synthesis results on MipNeRF360

\input{tables/nerf_results_MipNerf360.tex}

\begin{figure}
    \begin{minipage}[h]{0.25\textwidth}
        \centering
        \textbf{Ground Truth}
        \includegraphics[width=\textwidth]{figures/nerf/garden.JPG}
    \end{minipage}
    \hspace{0.01\textwidth}
    \begin{minipage}[h]{0.25\textwidth}
        \centering
        \textbf{VGGSfm}
        \includegraphics[width=\textwidth]{figures/nerf/garden_vggsfm.png}
    \end{minipage}
    \hspace{0.01\textwidth}
    \begin{minipage}[h]{0.25\textwidth}
        \centering
        \textbf{GLOMAP}
        \includegraphics[width=\textwidth]{figures/nerf/garden_glomap.png}
    \end{minipage}
    \hspace{0.01\textwidth}
    \begin{minipage}[h]{0.25\textwidth}
        \centering
        \textbf{AceZero}
        \includegraphics[width=\textwidth]{figures/nerf/garden_acezero.png}
    \end{minipage}
    \hspace{0.01\textwidth}
    \begin{minipage}[h]{0.25\textwidth}
        \centering
        \textbf{FlowMap}
        \includegraphics[width=\textwidth]{figures/nerf/garden_flowmap.png}
    \end{minipage}
    \caption{Qualitative comparison of novel view synthesis on the Garden scene from MipNeRF360 dataset.}
\end{figure}

\subsubsection{Tanks and Temples}\label{sec:nerf-evaluation-results-tanks-and-temples}
Novel view synthesis results on Tanks and Temples

\input{tables/nerf_results_TanksAndTemples.tex}